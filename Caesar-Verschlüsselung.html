<html>
<head>
  <meta charset="utf-8">
  <script>



function verschluesseln() {
var key = parseInt(document.getElementById("key1").value);
  var text = document.getElementById("eingabe1").value;

var ausgabe = "";
for(var i = 0; i < text.length; i++) {
  var code = text.charCodeAt(i);
  var  newCode = encryptCode(code, key);
  ausgabe += String.fromCharCode(newCode);
}

document.getElementById("ausgabe1").value = ausgabe;
}

function encryptCode(code, key) {
// Kleinbuchstaben
if(code >= 97 && code <= 122) {
  code += key;
  if(code > 122) {
    code -= 26;
  }
}
//Großbuchstaben
if(code >= 65 && code <= 90) {
  code += key;
  if(code > 90) {
    code -= 26;
  }
}
return code;
}

function entschluesseln() {
var key = parseInt(document.getElementById("key2").value);
  var text = document.getElementById("eingabe2").value;

var ausgabe = "";
for(var i = 0; i < text.length; i++) {
  var code = text.charCodeAt(i);
  var  newCode = decryptCode(code, key);
  ausgabe += String.fromCharCode(newCode);
}

document.getElementById("ausgabe2").value = ausgabe;
}

function decryptCode(code, key) {
// Kleinbuchstaben
if(code >= 97 && code <= 122) {
  code -= key;
  if(code < 97) {
    code += 26;
  }
}
//Großbuchstaben
if(code >= 65 && code <= 90) {
  code -= key;
  if(code < 65) {
    code += 26;
  }
}
return code;
}
  </script>
</head>
<body>
  <h1>Cäsar-Verschlüsselung</h1>
  Schlüssel:
  <input type= "number" id= "key1"><br>
  <textarea rows="4" cols="50" id="eingabe1"></textarea><br>
  <input type= "button" value= "Verschlüsseln" onclick= "verschluesseln()"><br>
  <textarea rows="4" cols="50" id="ausgabe1"></textarea>
  <br>
  <h1>Cäsar-Entschlüsselung</h1>
  Schlüssel:
  <input type= "number" id= "key2"><br>
  <textarea rows="4" cols="50" id="eingabe2"></textarea><br>
  <input type= "button" value= "Entschlüsseln" onclick= "entschluesseln()"><br>
  <textarea rows="4" cols="50" id="ausgabe2"></textarea>
</body>
</html>
